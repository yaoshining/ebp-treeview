!function(e,n){for(var t in n)e[t]=n[t]}(this,function(e){function n(t){if(o[t])return o[t].exports;var r=o[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,n),r.l=!0,r.exports}var t=window.webpackJsonp;window.webpackJsonp=function(o,i,l){for(var a,c,d,s=0,u=[];s<o.length;s++)c=o[s],r[c]&&u.push(r[c][0]),r[c]=0;for(a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a]);for(t&&t(o,i,l);u.length;)u.shift()();if(l)for(s=0;s<l.length;s++)d=n(n.s=l[s]);return d};var o={},r={1:0};return n.e=function(e){function t(){l.onerror=l.onload=null,clearTimeout(a);var n=r[e];0!==n&&(n&&n[1](new Error("Loading chunk "+e+" failed.")),r[e]=void 0)}if(0===r[e])return Promise.resolve();if(r[e])return r[e][2];var o=new Promise(function(n,t){r[e]=[n,t]});r[e][2]=o;var i=document.getElementsByTagName("head")[0],l=document.createElement("script");l.type="text/javascript",l.charset="utf-8",l.async=!0,l.timeout=12e4,n.nc&&l.setAttribute("nonce",n.nc),l.src=n.p+""+e+".js";var a=setTimeout(t,12e4);return l.onerror=l.onload=t,i.appendChild(l),o},n.m=e,n.c=o,n.i=function(e){return e},n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:o})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},n.p="/",n.oe=function(e){throw console.error(e),e},n(n.s=18)}([function(e,n){!function(){e.exports=this.angular}()},,,,function(e,n,t){t(17),e.exports="ui.tree"},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t(0);n.defaultTreeSettings={dataSource:null,openedIcon:"tree-minus",closedIcon:"tree-plus",callbacks:{itemClicked:o.noop,folderClicked:o.noop,nodeAdd:function(e,n){n(e)}},check:{enable:!1}}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.PopboxDirectiveFactory=function(){return{restrict:"A",scope:!1,controller:o}};var o=function(){function e(e,n,t,o,r){"ngInject";var i=t(n.ebpPopboxTrigger),l=i(e);r.on("click",function(n){e.$applyAsync(function(){l.event=n,l.scope=e,o.open(l)})})}return e.$inject=["$scope","$attrs","$parse","ebpPopbox","$element"],e}()},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t(0);n.TreeNodeDirectiveFactory=["$resource","$timeout",function(e,n){"ngInject";return{restrict:"AE",require:"^ebpTreeview",link:function(t,r,i,l){var a=l.$treeScope,c=a.$treeOptions,d=a.$callbacks,s=t.$modelValue.type,u=t.$modelValue,p=a.labelLinkFunc,f=a.$parent.$new();f.item=t.item,p(f,function(e){n(function(){var n=r.find(".tree-label"),t=o.element("<div>").append(e);""!==t.html().trim()&&(e.detach(),n.html(e)),t.remove()})}),t.showLoader=!1,t.collapsed=t.collapsed,t.$watch(function(){return t.collapsed},function(n){if(!1===n&&"folder"===s&&!b()&&(o.isFunction(c.dataSource)&&c.dataSource(u,function(e){u.children=e.data,e.data.length<1&&(t.collapsed=!0)}),o.isObject(c.dataSource))){var r=c.dataSource.url,i=c.dataSource.params,l=e(r,i);o.forEach(i,function(e,n){"@"===e.charAt(0)&&(i[n]=u[e.substr(1)])});var a=l.query(i,function(){u.children=a})}});var m=t.childNodes=t.childNodes,h=t.$nodesMap=t.$nodesMap,g=t.$parentNodeScope=t.$parentNodeScope,$=t.editItemHelper={enable:!1,item:{type:"folder",iconClass:c.closedIcon},submit:function(){o.isArray(u.children)||(u.children=[]),o.isFunction(d.nodeAdd)&&(t.showLoader=!0,d.nodeAdd($.item,function(e){u.children.push(o.extend({},e)),t.showLoader=!1})),$.enable=!1}};t.showEditItemHelper=function(e){o.extend($.item,e),$.enable=!0},t.dismissEditItemHelper=function(){$.enable=!1},t.$childNodesScope=t.$childNodesScope,t.toggle=t.toggle,t.onCheckStateChange=function(){"folder"===u.type&&o.forEach(m(),function(e){e.$modelValue.$checked=u.$checked,e.onCheckStateChange()})},t.$watch(function(){return u.$checked},function(e){if("item"===u.type&&(e?a.checkedItems.push(u):a.checkedItems.splice(a.checkedItems.indexOf(u),1)),g){for(var n=!0,t=0;t<h.length;t++){var o=h[t];if(o.$modelValue.$checked){n=!1;break}}if(n)return void(g.$modelValue.$checked=!1);for(var r=!0,t=0;t<h.length;t++){var o=h[t];if(!o.$modelValue.$checked){r=!1;break}}r&&(g.$modelValue.$checked=!0)}}),r.on("click",function(e){e.preventDefault(),e.stopPropagation(),"item"===s&&o.isFunction(d.itemClicked)?d.itemClicked(u):"folder"===s&&o.isFunction(d.folderClicked)&&o.isFunction(d.folderClicked)&&d.folderClicked(u,t),a.$broadcast("ebptree.node.select",t),t.$apply()});var b=t.hasChild}}}]},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t(0);n.TreeViewDirectiveFactory=["$resource","$timeout","$templateCache","$compile",function(e,n,i,l){"ngInject";var a=t(21);i.put("tree_nodes_render.tpl.html",a);return{restrict:"AE",replace:!1,transclude:!0,scope:{treeObject:"=",treeData:"=",dragEnabled:"=?",showLine:"=?",hideIcon:"=?",treeOptions:"=",renderTemplateUrl:"="},controller:r,compile:function(t,r,i){return{pre:function(t,r,l,a){t.labelLinkFunc=i;var c=t.treeOptions;if((o.isUndefined(t.treeData)||o.isArray(t.treeData)&&t.treeData.length<1)&&(o.isFunction(c.dataSource)&&c.dataSource(null,function(e){t.treeData=e.data,e.data.length<1&&(t.collapsed=!0)}),o.isObject(c.dataSource))){var d=c.dataSource.url,s=c.dataSource.params,u=e(d,s);o.forEach(s,function(e,n){"@"===e.charAt(0)&&(s[n]=void 0)});var p=u.query(s,function(){t.treeData=new Array,o.forEach(p,function(e,o){n(function(){t.treeData.push(e)},500+100*o)})})}},post:function(e,n,t,o){}}},template:'<div ui-tree data-drag-enable="dragEnabled" ng-init="initTree(this)"><ul ui-tree-nodes ng-model="treeData" class="tree" ng-class="{\'tree-line\': showLine}"><li ng-repeat="item in treeData" ui-tree-node data-collapsed="true" ebp-tree-node data-nodrag ng-include="renderTemplateUrl || \'tree_nodes_render.tpl.html\'"'+"ng-class=\"{'tree-branch': item.type=='folder','selected':item.$selected,'tree-item': item.type=='item','tree-line': showLine}\"></li></ul></div>"}}];var r=function(){function e(e,n){"ngInject";var t=n;this.$treeScope=e,e.treeObject&&(e.treeObject=e);var r=e.$treeOptions=o.merge({},t,e.treeOptions),i=(e.$callbacks=r.callbacks,e.$checkSettings=r.check);e.selectedNode=null,e.checkedItems=[],e.initTree=function(n){e.$treeScope=n},e.toggleCheckMode=function(){i.enable=!i.enable},e.isSemiChecked=function(n){if(!o.isArray(n.children)||n.children.length<1)return!1;for(var t=!1,r=0;r<n.children.length;r++){var i=n.children[r];if(i.$checked||e.isSemiChecked(i)){t=!0;break}}for(var l=!1,r=0;r<n.children.length;r++){var i=n.children[r];if(!i.$checked){l=!0;break}}return t&&l&&(n.$checked=!1),t&&l},e.expandAll=function(){e.$treeScope.expandAll()},e.collapseAll=function(){e.$treeScope.collapseAll()},e.$on("ebptree.node.select",function(n,t){e.selectedNode&&(e.selectedNode.$modelValue.$selected=!1),t.$modelValue.$selected=!0,e.selectedNode=t})}return e.$inject=["$scope","defaultTreeSettings"],e}()},function(e,n,t){"use strict";function o(e){"ngInject";e.includeBar=!0,e.includeSpinner=!1,e.latencyThreshold=500,e.parentSelector=".wrapper > section"}o.$inject=["cfpLoadingBarProvider"],Object.defineProperty(n,"__esModule",{value:!0}),n.loadingBarConfig=o},function(e,n,t){"use strict";function o(e,n,t){"ngInject";var o;e.$on("$stateChangeStart",function(){$(".wrapper > section").length&&(o=n(function(){t.start()}))}),e.$on("$stateChangeSuccess",function(e){e.targetScope.$watch("$viewContentLoaded",function(){n.cancel(o),t.complete()})})}o.$inject=["$rootScope","$timeout","cfpLoadingBar"],Object.defineProperty(n,"__esModule",{value:!0}),n.loadingBarRun=o},function(e,n,t){"use strict";function o(e,n,t,o,i,l){"ngInject";function a(e,n){var t=n.width(),r=e.clientX-t/2;return r<5&&(r=5),r>o.innerWidth-t&&(r=o.innerWidth-t-5),r}function c(e,n){var t=n.height(),r=e.clientY;return r>o.innerHeight-t&&(r=o.innerHeight-t-5),r}var d=function(){function o(){this.boxContainerElement=r.element('<div class="ebp-popbox">')}return o.prototype.open=function(o){var d=this;if(!o)return!1;var u=o.event,p=o.scope,f=o.templateUrl,m=o.controller,h=o.resolve;n(f).then(function(e){if(e){var n=new s;if(d.boxScope=p.$new(),d.boxScope.$popboxInstance=n,r.isArray(m)||r.isFunction(m)||r.isString(m)){var o=i.when(1);r.isObject(h)&&r.forEach(h,function(e,n){r.isFunction(e)&&(o=o.then(e).then(function(e){h[n]=e}))}),o.then(function(){h.$scope=d.boxScope,h.$element=d.boxContainerElement,h.popboxInstance=n,l(m,h)})}var f=r.element(e);d.boxContainerElement.empty().append(f),t(d.boxContainerElement)(d.boxScope),r.element(u.target).addClass(".ebp-popbox-trigger"),d.boxContainerElement.css({left:a(u,d.boxContainerElement),top:c(u,d.boxContainerElement)}),d.boxScope.$on("$destroy",function(){r.element(u.target).removeClass(".ebp-popbox-trigger"),f.remove(),d.boxContainerElement.detach()})}}),e.find("body").append(this.boxContainerElement)},o.prototype.close=function(){this.boxScope&&this.boxScope.$destroy()},o}(),s=function(){function e(){}return e.prototype.close=function(){u.close()},e}(),u=new d;return e.on("mousedown",function(e){var n=r.element(e.target).parents().addBack();n.is(".ebp-popbox")||n.is(".ebp-popbox-trigger")||u.close()}),u}o.$inject=["$document","$templateRequest","$compile","$window","$q","$controller"],Object.defineProperty(n,"__esModule",{value:!0});var r=t(0);n.PopboxServiceFactory=o},,function(e,n){},,,,function(e,n){!function(){"use strict";angular.module("ui.tree",[]).constant("treeConfig",{treeClass:"angular-ui-tree",emptyTreeClass:"angular-ui-tree-empty",hiddenClass:"angular-ui-tree-hidden",nodesClass:"angular-ui-tree-nodes",nodeClass:"angular-ui-tree-node",handleClass:"angular-ui-tree-handle",placeholderClass:"angular-ui-tree-placeholder",dragClass:"angular-ui-tree-drag",dragThreshold:3,defaultCollapsed:!1,appendChildOnHover:!0})}(),function(){"use strict";angular.module("ui.tree").controller("TreeHandleController",["$scope","$element",function(e,n){this.scope=e,e.$element=n,e.$nodeScope=null,e.$type="uiTreeHandle"}])}(),function(){"use strict";angular.module("ui.tree").controller("TreeNodeController",["$scope","$element",function(e,n){function t(e){if(!e)return 0;var n,o,r,i=0,l=e.childNodes();if(!l||0===l.length)return 0;for(r=l.length-1;r>=0;r--)n=l[r],o=1+t(n),i=Math.max(i,o);return i}this.scope=e,e.$element=n,e.$modelValue=null,e.$parentNodeScope=null,e.$childNodesScope=null,e.$parentNodesScope=null,e.$treeScope=null,e.$handleScope=null,e.$type="uiTreeNode",e.$$allowNodeDrop=!1,e.collapsed=!1,e.expandOnHover=!1,e.init=function(t){var o=t[0];e.$treeScope=t[1]?t[1].scope:null,e.$parentNodeScope=o.scope.$nodeScope,e.$modelValue=o.scope.$modelValue[e.$index],e.$parentNodesScope=o.scope,o.scope.initSubNode(e),n.on("$destroy",function(){o.scope.destroySubNode(e)})},e.index=function(){return e.$parentNodesScope.$modelValue.indexOf(e.$modelValue)},e.dragEnabled=function(){return!(e.$treeScope&&!e.$treeScope.dragEnabled)},e.isSibling=function(n){return e.$parentNodesScope==n.$parentNodesScope},e.isChild=function(n){var t=e.childNodes();return t&&t.indexOf(n)>-1},e.prev=function(){var n=e.index();return n>0?e.siblings()[n-1]:null},e.siblings=function(){return e.$parentNodesScope.childNodes()},e.childNodesCount=function(){return e.childNodes()?e.childNodes().length:0},e.hasChild=function(){return e.childNodesCount()>0},e.childNodes=function(){return e.$childNodesScope&&e.$childNodesScope.$modelValue?e.$childNodesScope.childNodes():null},e.accept=function(n,t){return e.$childNodesScope&&e.$childNodesScope.$modelValue&&e.$childNodesScope.accept(n,t)},e.remove=function(){return e.$parentNodesScope.removeNode(e)},e.toggle=function(){e.collapsed=!e.collapsed,e.$treeScope.$callbacks.toggle(e.collapsed,e)},e.collapse=function(){e.collapsed=!0},e.expand=function(){e.collapsed=!1},e.depth=function(){var n=e.$parentNodeScope;return n?n.depth()+1:1},e.maxSubDepth=function(){return e.$childNodesScope?t(e.$childNodesScope):0}}])}(),function(){"use strict";angular.module("ui.tree").controller("TreeNodesController",["$scope","$element",function(e,n){this.scope=e,e.$element=n,e.$modelValue=null,e.$nodeScope=null,e.$treeScope=null,e.$type="uiTreeNodes",e.$nodesMap={},e.nodropEnabled=!1,e.maxDepth=0,e.cloneEnabled=!1,e.initSubNode=function(n){if(!n.$modelValue)return null;e.$nodesMap[n.$modelValue.$$hashKey]=n},e.destroySubNode=function(n){if(!n.$modelValue)return null;e.$nodesMap[n.$modelValue.$$hashKey]=null},e.accept=function(n,t){return e.$treeScope.$callbacks.accept(n,e,t)},e.beforeDrag=function(n){return e.$treeScope.$callbacks.beforeDrag(n)},e.isParent=function(n){return n.$parentNodesScope==e},e.hasChild=function(){return e.$modelValue.length>0},e.safeApply=function(e){var n=this.$root.$$phase;"$apply"==n||"$digest"==n?e&&"function"==typeof e&&e():this.$apply(e)},e.removeNode=function(n){var t=e.$modelValue.indexOf(n.$modelValue);return t>-1?(e.safeApply(function(){e.$modelValue.splice(t,1)[0]}),e.$treeScope.$callbacks.removed(n)):null},e.insertNode=function(n,t){e.safeApply(function(){e.$modelValue.splice(n,0,t)})},e.childNodes=function(){var n,t=[];if(e.$modelValue)for(n=0;n<e.$modelValue.length;n++)t.push(e.$nodesMap[e.$modelValue[n].$$hashKey]);return t},e.depth=function(){return e.$nodeScope?e.$nodeScope.depth():0},e.outOfDepth=function(n){var t=e.maxDepth||e.$treeScope.maxDepth;return t>0&&e.depth()+n.maxSubDepth()+1>t}}])}(),function(){"use strict";angular.module("ui.tree").controller("TreeController",["$scope","$element",function(e,n){this.scope=e,e.$element=n,e.$nodesScope=null,e.$type="uiTree",e.$emptyElm=null,e.$callbacks=null,e.dragEnabled=!0,e.emptyPlaceholderEnabled=!0,e.maxDepth=0,e.dragDelay=0,e.cloneEnabled=!1,e.nodropEnabled=!1,e.isEmpty=function(){return e.$nodesScope&&e.$nodesScope.$modelValue&&0===e.$nodesScope.$modelValue.length},e.place=function(n){e.$nodesScope.$element.append(n),e.$emptyElm.remove()},this.resetEmptyElement=function(){e.$nodesScope.$modelValue&&0!==e.$nodesScope.$modelValue.length||!e.emptyPlaceholderEnabled?e.$emptyElm.remove():n.append(e.$emptyElm)},e.resetEmptyElement=this.resetEmptyElement}])}(),function(){"use strict";angular.module("ui.tree").directive("uiTree",["treeConfig","$window",function(e,n){return{restrict:"A",scope:!0,controller:"TreeController",link:function(t,o,r,i){var l,a,c,d={accept:null,beforeDrag:null},s={};angular.extend(s,e),s.treeClass&&o.addClass(s.treeClass),"table"===o.prop("tagName").toLowerCase()?(t.$emptyElm=angular.element(n.document.createElement("tr")),a=o.find("tr"),c=a.length>0?angular.element(a).children().length:1e6,l=angular.element(n.document.createElement("td")).attr("colspan",c),t.$emptyElm.append(l)):t.$emptyElm=angular.element(n.document.createElement("div")),s.emptyTreeClass&&t.$emptyElm.addClass(s.emptyTreeClass),t.$watch("$nodesScope.$modelValue.length",function(e){angular.isNumber(e)&&i.resetEmptyElement()},!0),t.$watch(r.dragEnabled,function(e){"boolean"==typeof e&&(t.dragEnabled=e)}),t.$watch(r.emptyPlaceholderEnabled,function(e){"boolean"==typeof e&&(t.emptyPlaceholderEnabled=e,i.resetEmptyElement())}),t.$watch(r.nodropEnabled,function(e){"boolean"==typeof e&&(t.nodropEnabled=e)}),t.$watch(r.cloneEnabled,function(e){"boolean"==typeof e&&(t.cloneEnabled=e)}),t.$watch(r.maxDepth,function(e){"number"==typeof e&&(t.maxDepth=e)}),t.$watch(r.dragDelay,function(e){"number"==typeof e&&(t.dragDelay=e)}),d.accept=function(e,n,t){return!(n.nodropEnabled||n.$treeScope.nodropEnabled||n.outOfDepth(e))},d.beforeDrag=function(e){return!0},d.expandTimeoutStart=function(){},d.expandTimeoutCancel=function(){},d.expandTimeoutEnd=function(){},d.removed=function(e){},d.dropped=function(e){},d.dragStart=function(e){},d.dragMove=function(e){},d.dragStop=function(e){},d.beforeDrop=function(e){},d.toggle=function(e,n){},t.$watch(r.uiTree,function(e,n){angular.forEach(e,function(e,n){d[n]&&"function"==typeof e&&(d[n]=e)}),t.$callbacks=d},!0)}}}])}(),function(){"use strict";angular.module("ui.tree").directive("uiTreeHandle",["treeConfig",function(e){return{require:"^uiTreeNode",restrict:"A",scope:!0,controller:"TreeHandleController",link:function(n,t,o,r){var i={};angular.extend(i,e),i.handleClass&&t.addClass(i.handleClass),n!=r.scope&&(n.$nodeScope=r.scope,r.scope.$handleScope=n)}}}])}(),function(){"use strict";angular.module("ui.tree").directive("uiTreeNode",["treeConfig","UiTreeHelper","$window","$document","$timeout","$q",function(e,n,t,o,r,i){return{require:["^uiTreeNodes","^uiTree"],restrict:"A",controller:"TreeNodeController",link:function(l,a,c,d){var s,u,p,f,m,h,g,$,b,v,y,x,S,N,C,E,T,w,k,O,D,H,A,I,V,Y,P,X={},j="ontouchstart"in window,M=null,F=document.body,_=document.documentElement;angular.extend(X,e),X.nodeClass&&a.addClass(X.nodeClass),l.init(d),l.collapsed=!!n.getNodeAttribute(l,"collapsed")||e.defaultCollapsed,l.expandOnHover=!!n.getNodeAttribute(l,"expandOnHover"),l.scrollContainer=n.getNodeAttribute(l,"scrollContainer")||c.scrollContainer||null,l.sourceOnly=l.nodropEnabled||l.$treeScope.nodropEnabled,l.$watch(c.collapsed,function(e){"boolean"==typeof e&&(l.collapsed=e)}),l.$watch("collapsed",function(e){n.setNodeAttribute(l,"collapsed",e),c.$set("collapsed",e)}),l.$watch(c.expandOnHover,function(e){"boolean"!=typeof e&&"number"!=typeof e||(l.expandOnHover=e)}),l.$watch("expandOnHover",function(e){n.setNodeAttribute(l,"expandOnHover",e),c.$set("expandOnHover",e)}),c.$observe("scrollContainer",function(e){"string"==typeof e&&(l.scrollContainer=e)}),l.$watch("scrollContainer",function(e){n.setNodeAttribute(l,"scrollContainer",e),c.$set("scrollContainer",e),g=document.querySelector(e)}),l.$on("angular-ui-tree:collapse-all",function(){l.collapsed=!0}),l.$on("angular-ui-tree:expand-all",function(){l.collapsed=!1}),x=function(e){if((j||2!==e.button&&3!==e.which)&&!(e.uiTreeDragging||e.originalEvent&&e.originalEvent.uiTreeDragging)){var r,i,c,d,g,$,x,S,N,C=angular.element(e.target);if(r=n.treeNodeHandlerContainerOfElement(C),r&&(C=angular.element(r)),i=a.clone(),S=n.elementIsTreeNode(C),N=n.elementIsTreeNodeHandle(C),(S||N)&&!(S&&n.elementContainsTreeNodeHandler(C)||"input"==(c=C.prop("tagName").toLowerCase())||"textarea"==c||"button"==c||"select"==c)){for(V=angular.element(e.target),Y=V[0].attributes["ui-tree"];V&&V[0]&&V[0]!==a&&!Y;){if(V[0].attributes&&(Y=V[0].attributes["ui-tree"]),n.nodrag(V))return;V=V.parent()}l.beforeDrag(l)&&(e.uiTreeDragging=!0,e.originalEvent&&(e.originalEvent.uiTreeDragging=!0),e.preventDefault(),g=n.eventObj(e),s=!0,u=n.dragInfo(l),P=u.source.$treeScope.$id,d=a.prop("tagName"),"tr"===d.toLowerCase()?(f=angular.element(t.document.createElement(d)),$=angular.element(t.document.createElement("td")).addClass(X.placeholderClass).attr("colspan",a[0].children.length),f.append($)):f=angular.element(t.document.createElement(d)).addClass(X.placeholderClass),m=angular.element(t.document.createElement(d)),X.hiddenClass&&m.addClass(X.hiddenClass),p=n.positionStarted(g,a),f.css("height",a.prop("offsetHeight")+"px"),h=angular.element(t.document.createElement(l.$parentNodesScope.$element.prop("tagName"))).addClass(l.$parentNodesScope.$element.attr("class")).addClass(X.dragClass),h.css("width",n.width(a)+"px"),h.css("z-index",9999),x=(a[0].querySelector(".angular-ui-tree-handle")||a[0]).currentStyle,x&&(document.body.setAttribute("ui-tree-cursor",o.find("body").css("cursor")||""),o.find("body").css({cursor:x.cursor+"!important"})),l.sourceOnly&&f.css("display","none"),a.after(f),a.after(m),u.isClone()&&l.sourceOnly?h.append(i):h.append(a),o.find("body").append(h),h.css({left:g.pageX-p.offsetX+"px",top:g.pageY-p.offsetY+"px"}),b={placeholder:f,dragging:h},D(),l.$apply(function(){l.$treeScope.$callbacks.dragStart(u.eventArgs(b,p))}),v=Math.max(F.scrollHeight,F.offsetHeight,_.clientHeight,_.scrollHeight,_.offsetHeight),y=Math.max(F.scrollWidth,F.offsetWidth,_.clientWidth,_.scrollWidth,_.offsetWidth))}}},S=function(e){var o,i,a,c,d,m,x,S,N,C,E,T,w,k,O,D,H,A,V,Y,j,F=n.eventObj(e);if(h){if(e.preventDefault(),t.getSelection?t.getSelection().removeAllRanges():t.document.selection&&t.document.selection.empty(),i=F.pageX-p.offsetX,a=F.pageY-p.offsetY,i<0&&(i=0),a<0&&(a=0),a+10>v&&(a=v-10),i+10>y&&(i=y-10),h.css({left:i+"px",top:a+"px"}),g?(m=g.getBoundingClientRect(),c=g.scrollTop,d=c+g.clientHeight,m.bottom<F.clientY&&d<g.scrollHeight&&(k=Math.min(g.scrollHeight-d,10),g.scrollTop+=k),m.top>F.clientY&&c>0&&(O=Math.min(c,10),g.scrollTop-=O)):(c=window.pageYOffset||t.document.documentElement.scrollTop,d=c+(window.innerHeight||t.document.clientHeight||t.document.clientHeight),d<F.pageY&&d<v&&(k=Math.min(v-d,10),window.scrollBy(0,k)),c>F.pageY&&(O=Math.min(c,10),window.scrollBy(0,-O))),n.positionMoved(e,p,s),s)return void(s=!1);if(S=F.pageX-(t.pageXOffset||t.document.body.scrollLeft||t.document.documentElement.scrollLeft)-(t.document.documentElement.clientLeft||0),N=F.pageY-(t.pageYOffset||t.document.body.scrollTop||t.document.documentElement.scrollTop)-(t.document.documentElement.clientTop||0),angular.isFunction(h.hide)?h.hide():(C=h[0].style.display,h[0].style.display="none"),t.document.elementFromPoint(S,N),T=angular.element(t.document.elementFromPoint(S,N)),I=n.treeNodeHandlerContainerOfElement(T),I&&(T=angular.element(I)),angular.isFunction(h.show)?h.show():h[0].style.display=C,n.elementIsTree(T)?E=T.controller("uiTree").scope:n.elementIsTreeNodeHandle(T)?E=T.controller("uiTreeHandle").scope:n.elementIsTreeNode(T)?E=T.controller("uiTreeNode").scope:n.elementIsTreeNodes(T)?E=T.controller("uiTreeNodes").scope:n.elementIsPlaceholder(T)?E=T.controller("uiTreeNodes").scope:T.controller("uiTreeNode")&&(E=T.controller("uiTreeNode").scope),E&&E.$treeScope&&E.$treeScope.$id&&E.$treeScope.$id===P&&p.dirAx)p.distX>0&&(o=u.prev())&&!o.collapsed&&o.accept(l,o.childNodesCount())&&(o.$childNodesScope.$element.append(f),u.moveTo(o.$childNodesScope,o.childNodes(),o.childNodesCount())),p.distX<0&&(u.next()||(x=u.parentNode())&&x.$parentNodesScope.accept(l,x.index()+1)&&(x.$element.after(f),u.moveTo(x.$parentNodesScope,x.siblings(),x.index()+1)));else{if(w=!1,!E)return;if(!E.$treeScope||E.$parent.nodropEnabled||E.$treeScope.nodropEnabled||f.css("display",""),"uiTree"===E.$type&&E.dragEnabled&&(w=E.isEmpty()),"uiTreeHandle"===E.$type&&(E=E.$nodeScope),"uiTreeNode"!==E.$type&&!w)return void(X.appendChildOnHover&&!u.next()&&$&&(x=u.parentNode(),x.$element.after(f),u.moveTo(x.$parentNodesScope,x.siblings(),x.index()+1),$=!1));M&&f.parent()[0]!=M.$element[0]&&(M.resetEmptyElement(),M=null),w?(M=E,E.$nodesScope.accept(l,0)&&(E.place(f),u.moveTo(E.$nodesScope,E.$nodesScope.childNodes(),0))):E.dragEnabled()&&(angular.isDefined(l.expandTimeoutOn)&&l.expandTimeoutOn!==E.id&&(r.cancel(l.expandTimeout),delete l.expandTimeout,delete l.expandTimeoutOn,l.$callbacks.expandTimeoutCancel()),E.collapsed&&(!0===l.expandOnHover||angular.isNumber(l.expandOnHover)&&0===l.expandOnHover?(E.collapsed=!1,E.$treeScope.$callbacks.toggle(!1,E)):!1!==l.expandOnHover&&angular.isNumber(l.expandOnHover)&&l.expandOnHover>0&&angular.isUndefined(l.expandTimeoutOn)&&(l.expandTimeoutOn=E.$id,l.$callbacks.expandTimeoutStart(),l.expandTimeout=r(function(){l.$callbacks.expandTimeoutEnd(),E.collapsed=!1,E.$treeScope.$callbacks.toggle(!1,E)},l.expandOnHover))),T=E.$element,D=n.offset(T),V=n.height(T),Y=E.$childNodesScope?E.$childNodesScope.$element:null,j=Y?n.height(Y):0,V-=j,A=X.appendChildOnHover?.25*V:n.height(T)/2,H=F.pageY<D.top+A,E.$parentNodesScope.accept(l,E.index())?H?(T[0].parentNode.insertBefore(f[0],T[0]),u.moveTo(E.$parentNodesScope,E.siblings(),E.index())):X.appendChildOnHover&&E.accept(l,E.childNodesCount())?(E.$childNodesScope.$element.prepend(f),u.moveTo(E.$childNodesScope,E.childNodes(),0),$=!0):(T.after(f),u.moveTo(E.$parentNodesScope,E.siblings(),E.index()+1)):!H&&E.accept(l,E.childNodesCount())&&(E.$childNodesScope.$element.append(f),u.moveTo(E.$childNodesScope,E.childNodes(),E.childNodesCount())))}l.$apply(function(){l.$treeScope.$callbacks.dragMove(u.eventArgs(b,p))})}},N=function(e){var n=u.eventArgs(b,p);e.preventDefault(),H(),r.cancel(l.expandTimeout),l.$treeScope.$apply(function(){i.when(l.$treeScope.$callbacks.beforeDrop(n)).then(function(e){!1!==e&&l.$$allowNodeDrop?(u.apply(),l.$treeScope.$callbacks.dropped(n)):O()}).catch(function(){O()}).finally(function(){m.replaceWith(l.$element),f.remove(),h&&(h.remove(),h=null),l.$treeScope.$callbacks.dragStop(n),l.$$allowNodeDrop=!1,u=null;var e=document.body.getAttribute("ui-tree-cursor");null!==e&&(o.find("body").css({cursor:e}),document.body.removeAttribute("ui-tree-cursor"))})})},C=function(e){l.dragEnabled()&&x(e)},E=function(e){S(e)},T=function(e){l.$$allowNodeDrop=!0,N(e)},w=function(e){N(e)},k=function(){var e;return{exec:function(n,t){t||(t=0),this.cancel(),e=r(n,t)},cancel:function(){r.cancel(e)}}}(),A=function(e){27===e.keyCode&&T(e)},O=function(){a.bind("touchstart mousedown",function(e){l.dragDelay>0?k.exec(function(){C(e)},l.dragDelay):C(e)}),a.bind("touchend touchcancel mouseup",function(){l.dragDelay>0&&k.cancel()})},O(),D=function(){angular.element(o).bind("touchend",T),angular.element(o).bind("touchcancel",T),angular.element(o).bind("touchmove",E),angular.element(o).bind("mouseup",T),angular.element(o).bind("mousemove",E),angular.element(o).bind("mouseleave",w),angular.element(o).bind("keydown",A)},H=function(){angular.element(o).unbind("touchend",T),angular.element(o).unbind("touchcancel",T),angular.element(o).unbind("touchmove",E),angular.element(o).unbind("mouseup",T),angular.element(o).unbind("mousemove",E),angular.element(o).unbind("mouseleave",w),angular.element(o).unbind("keydown",A)}}}}])}(),function(){"use strict";angular.module("ui.tree").directive("uiTreeNodes",["treeConfig","$window",function(e){return{require:["ngModel","?^uiTreeNode","^uiTree"],restrict:"A",scope:!0,controller:"TreeNodesController",link:function(n,t,o,r){var i={},l=r[0],a=r[1],c=r[2];angular.extend(i,e),i.nodesClass&&t.addClass(i.nodesClass),a?(a.scope.$childNodesScope=n,n.$nodeScope=a.scope):c.scope.$nodesScope=n,n.$treeScope=c.scope,l&&(l.$render=function(){n.$modelValue=l.$modelValue}),n.$watch(function(){return o.maxDepth},function(e){"number"==typeof e&&(n.maxDepth=e)}),n.$watch(function(){return o.nodropEnabled},function(e){void 0!==e&&(n.nodropEnabled=!0)},!0)}}}])}(),function(){"use strict";function e(e,n){if(void 0===n)return null;for(var t=n.parentNode,o=1,r="function"==typeof t.setAttribute&&t.hasAttribute(e)?t:null;t&&"function"==typeof t.setAttribute&&!t.hasAttribute(e);){if(t=t.parentNode,r=t,t===document.documentElement){r=null;break}o++}return r}angular.module("ui.tree").factory("UiTreeHelper",["$document","$window","treeConfig",function(n,t,o){return{nodesData:{},setNodeAttribute:function(e,n,t){if(!e.$modelValue)return null;var o=this.nodesData[e.$modelValue.$$hashKey];o||(o={},this.nodesData[e.$modelValue.$$hashKey]=o),o[n]=t},getNodeAttribute:function(e,n){if(!e.$modelValue)return null;var t=this.nodesData[e.$modelValue.$$hashKey];return t?t[n]:null},nodrag:function(e){return void 0!==e.attr("data-nodrag")&&"false"!==e.attr("data-nodrag")},eventObj:function(e){var n=e;return void 0!==e.targetTouches?n=e.targetTouches.item(0):void 0!==e.originalEvent&&void 0!==e.originalEvent.targetTouches&&(n=e.originalEvent.targetTouches.item(0)),n},dragInfo:function(e){return{source:e,sourceInfo:{cloneModel:!0===e.$treeScope.cloneEnabled?angular.copy(e.$modelValue):void 0,nodeScope:e,index:e.index(),nodesScope:e.$parentNodesScope},index:e.index(),siblings:e.siblings().slice(0),parent:e.$parentNodesScope,resetParent:function(){this.parent=e.$parentNodesScope},moveTo:function(e,n,t){this.parent=e,this.siblings=n.slice(0);var o=this.siblings.indexOf(this.source);o>-1&&(this.siblings.splice(o,1),this.source.index()<t&&t--),this.siblings.splice(t,0,this.source),this.index=t},parentNode:function(){return this.parent.$nodeScope},prev:function(){return this.index>0?this.siblings[this.index-1]:null},next:function(){return this.index<this.siblings.length-1?this.siblings[this.index+1]:null},isClone:function(){return!0===this.source.$treeScope.cloneEnabled},clonedNode:function(e){return angular.copy(e)},isDirty:function(){return this.source.$parentNodesScope!=this.parent||this.source.index()!=this.index},isForeign:function(){return this.source.$treeScope!==this.parent.$treeScope},eventArgs:function(e,n){return{source:this.sourceInfo,dest:{index:this.index,nodesScope:this.parent},elements:e,pos:n}},apply:function(){var e=this.source.$modelValue;this.parent.nodropEnabled||this.parent.$treeScope.nodropEnabled||this.isDirty()&&(this.isClone()&&this.isForeign()?this.parent.insertNode(this.index,this.sourceInfo.cloneModel):(this.source.remove(),this.parent.insertNode(this.index,e)))}}},height:function(e){return e.prop("scrollHeight")},width:function(e){return e.prop("scrollWidth")},offset:function(e){var o=e[0].getBoundingClientRect();return{width:e.prop("offsetWidth"),height:e.prop("offsetHeight"),top:o.top+(t.pageYOffset||n[0].body.scrollTop||n[0].documentElement.scrollTop),left:o.left+(t.pageXOffset||n[0].body.scrollLeft||n[0].documentElement.scrollLeft)}},positionStarted:function(e,n){var t={},o=e.pageX,r=e.pageY;return e.originalEvent&&e.originalEvent.touches&&e.originalEvent.touches.length>0&&(o=e.originalEvent.touches[0].pageX,r=e.originalEvent.touches[0].pageY),t.offsetX=o-this.offset(n).left,t.offsetY=r-this.offset(n).top,t.startX=t.lastX=o,t.startY=t.lastY=r,t.nowX=t.nowY=t.distX=t.distY=t.dirAx=0,t.dirX=t.dirY=t.lastDirX=t.lastDirY=t.distAxX=t.distAxY=0,t},positionMoved:function(e,n,t){var o,r=e.pageX,i=e.pageY;if(e.originalEvent&&e.originalEvent.touches&&e.originalEvent.touches.length>0&&(r=e.originalEvent.touches[0].pageX,i=e.originalEvent.touches[0].pageY),n.lastX=n.nowX,n.lastY=n.nowY,n.nowX=r,n.nowY=i,n.distX=n.nowX-n.lastX,n.distY=n.nowY-n.lastY,n.lastDirX=n.dirX,n.lastDirY=n.dirY,n.dirX=0===n.distX?0:n.distX>0?1:-1,n.dirY=0===n.distY?0:n.distY>0?1:-1,o=Math.abs(n.distX)>Math.abs(n.distY)?1:0,t)return n.dirAx=o,void(n.moving=!0);n.dirAx!==o?(n.distAxX=0,n.distAxY=0):(n.distAxX+=Math.abs(n.distX),0!==n.dirX&&n.dirX!==n.lastDirX&&(n.distAxX=0),n.distAxY+=Math.abs(n.distY),0!==n.dirY&&n.dirY!==n.lastDirY&&(n.distAxY=0)),n.dirAx=o},elementIsTreeNode:function(e){return void 0!==e.attr("ui-tree-node")},elementIsTreeNodeHandle:function(e){return void 0!==e.attr("ui-tree-handle")},elementIsTree:function(e){return void 0!==e.attr("ui-tree")},elementIsTreeNodes:function(e){return void 0!==e.attr("ui-tree-nodes")},elementIsPlaceholder:function(e){return e.hasClass(o.placeholderClass)},elementContainsTreeNodeHandler:function(e){return e[0].querySelectorAll("[ui-tree-handle]").length>=1},treeNodeHandlerContainerOfElement:function(n){return e("ui-tree-handle",n[0])}}}])}()},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),t(13);var o=t(0);t(4);var r=t(5),i=t(8),l=t(7),a=t(6),c=t(11),d=t(9),s=t(10);o.module("ebp.treeview",["ui.tree","ngResource","angular-loading-bar"]).config(d.loadingBarConfig).constant("defaultTreeSettings",r.defaultTreeSettings).directive("ebpTreeview",i.TreeViewDirectiveFactory).directive("ebpTreeNode",l.TreeNodeDirectiveFactory).directive("ebpPopboxTrigger",a.PopboxDirectiveFactory).factory("ebpPopbox",c.PopboxServiceFactory).run(s.loadingBarRun)},,,function(e,n){e.exports='<div ui-tree-handle class="tree-branch-header" ng-if="item.type==\'folder\'">\n    <i class="branch-toggle folder-icon ebp-icon" ng-class="collapsed?\'tree-plus\':\'tree-minus\'" ng-click="$event.stopPropagation();toggle()"></i>\n    <label style="margin-bottom: 0;margin-right: 5px;margin-left: -3px;" ng-click="$event.stopPropagation()" ng-dblclick="$event.stopPropagation()" ng-show="$checkSettings.enable">\n        <input type="checkbox" class="ebp" ng-model="item.$checked" ng-change="onCheckStateChange()" ng-class="{\'intermediate\': isSemiChecked(item)}">\n        <span class="lbl" style="z-index: 2"></span>\n    </label>\n    <span class="tree-branch-name">\n        <i class="folder-icon ebp-icon"\n           ng-class="(collapsed?(!hideIcon && treeOptions.closedIcon):(!hideIcon && treeOptions.openedIcon))+\' \'+item.iconClass" ng-if="!hideIcon"></i>\n        <span class="tree-label">{{item.name}}</span>\n    </span>\n</div>\n<span class="tree-item-name" ng-if="item.type==\'item\'">\n    <label style="margin-bottom: 0;margin-right: 5px" ng-click="$event.stopPropagation()" ng-dblclick="$event.stopPropagation()" ng-show="$checkSettings.enable">\n        <input type="checkbox" class="ebp" ng-model="item.$checked">\n        <span class="lbl" style="z-index: 2"></span>\n    </label>\n    <i class="icon-item ebp-icon" ng-class="item.iconClass || treeOptions.itemIcon || \'hide\'" ng-hide="hideIcon"></i>\n    <span class="tree-label">{{item.name}}</span>\n</span>\n<ul ui-tree-nodes class="tree-branch-children" ng-class="{\'tree-line\': showLine}" ng-model="item.children" ng-hide="collapsed" ng-if="item.children && item.children.length>0">\n    <li ng-repeat="item in item.children" ui-tree-node ebp-tree-node data-collapsed="true"\n        ng-class="{\'tree-branch\': item.type==\'folder\',\'tree-item\': item.type==\'item\',\'selected\': item.$selected,\'tree-line\': showLine}"\n        ng-include="\'tree_nodes_render.tpl.html\'">\n    </li>\n</ul>\n<div class="tree-loader" role="alert" ng-hide="(collapsed || hasChild()) && !showLoader" ng-if="item.type==\'folder\'">\n    <div class="tree-loading" style="padding-left: 15px"><i class="ebp-icon fa fa-refresh fa-spin blue"></i>\n    </div>\n</div>\n<div ng-if="item.type===\'folder\' && editItemHelper.enable" style="padding: 3px;margin-left: 29px;position: relative;" ng-click="$event.stopPropagation()">\n    <label style="margin-bottom: 0" ng-click="$event.stopPropagation()" ng-dblclick="$event.stopPropagation()" ng-show="$checkSettings.enable">\n        <input type="checkbox" class="ebp" ng-model="editItemHelper.item.$checked">\n        <span class="lbl" style="z-index: 2"></span>\n    </label>\n    <i class="folder-icon ebp-icon"\n       ng-class="(!hideIcon && editItemHelper.item.iconClass) || \'tree-plus\'" ng-if="editItemHelper.item.type === \'folder\'"></i>\n    <i class="icon-item ebp-icon" ng-class="treeOptions.itemIcon"\n       ng-hide="hideIcon" ng-if="editItemHelper.item.type === \'item\'"></i>\n    <span style="position: absolute;top: 0;bottom: 0;margin-left: 5px">\n        <input type="text" style="padding: 1px;width: 100px;" ng-model="editItemHelper.item.name" />\n        <div style="display: inline-block;width: 30px;position: relative;top: -3px;bottom: 0;margin-left: 5px">\n            <button class="btn btn-success btn-xs btn-block" ng-click="editItemHelper.submit()">\n                <i class="ebp-icon fa fa-check white"></i>\n            </button>\n        </div>\n        <div style="display: inline-block;width: 30px;position: relative;top: -3px;bottom: 0;margin-left: 5px">\n            <button class="btn btn-danger btn-xs btn-block" ng-click="dismissEditItemHelper()">\n                <i class="ebp-icon fa fa-times white"></i>\n            </button>\n        </div>\n    </span>\n</div>\n'}]));